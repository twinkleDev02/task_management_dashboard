<div class="flex-grow-1 overflow-auto p-4 bg-light">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-white rounded-3 shadow-sm mb-4">
    <div class="container-fluid">
      <span class="navbar-brand d-none d-lg-block fw-bold ms-2">Dashboard Overview</span>
    </div>
  </nav>

  <!-- Stats Cards -->
  <div class="row g-4">
    <div class="col-12 col-md-6 col-lg-3">
      <mat-card class="h-100 p-3 rounded-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <mat-icon color="primary" class="fs-2">event</mat-icon>
          <span class="fw-bold text-muted text-uppercase">All Tasks</span>
        </div>
        <h2 class="fw-bold mt-2">{{ tasks.length }}</h2>
      </mat-card>
    </div>

    <div class="col-12 col-md-6 col-lg-3">
      <mat-card class="h-100 p-3 rounded-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <mat-icon color="accent" class="fs-2">check_circle</mat-icon>
          <span class="fw-bold text-muted text-uppercase">Completed</span>
        </div>
        <h2 class="fw-bold mt-2">{{ completedTasks.length }}</h2>
      </mat-card>
    </div>

    <div class="col-12 col-md-6 col-lg-3">
      <mat-card class="h-100 p-3 rounded-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <mat-icon color="warn" class="fs-2">hourglass_empty</mat-icon>
          <span class="fw-bold text-muted text-uppercase">In Progress</span>
        </div>
        <h2 class="fw-bold mt-2">{{ inProgressTasks.length }}</h2>
      </mat-card>
    </div>

    <div class="col-12 col-md-6 col-lg-3">
      <mat-card class="h-100 p-3 rounded-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <mat-icon color="primary" class="fs-2">priority_high</mat-icon>
          <span class="fw-bold text-muted text-uppercase">High Priority Pending</span>
        </div>
        <h2 class="fw-bold mt-2">{{ highPriorityPending.length }}</h2>
      </mat-card>
    </div>

    <!-- Recent Projects -->
    <div class="col-12">
      <mat-card class="rounded-3 shadow-sm p-3">
        <mat-card-header>
          <mat-card-title>Recent Tasks</mat-card-title>
        </mat-card-header>

        <div class="table-responsive">
          <table mat-table [dataSource]="dataSource" class="table table-hover align-middle">

            <!-- Title -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef> Title </th>
              <td mat-cell *matCellDef="let project"> {{ project.title }} </td>
            </ng-container>

            <!-- Status -->
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef> Status </th>
              <td mat-cell *matCellDef="let project">
                <span class="badge"
                  [ngClass]="{
                    'bg-success': project.status === 'Completed',
                    'bg-warning': project.status === 'In Progress',
                    'bg-danger': project.status === 'Pending'
                  }">
                  {{ project.status }}
                </span>
              </td>
            </ng-container>

            <!-- Due Date -->
            <ng-container matColumnDef="dueDate">
              <th mat-header-cell *matHeaderCellDef> Due Date </th>
              <td mat-cell *matCellDef="let project"> {{ project.dueDate | date:'mediumDate' }} </td>
            </ng-container>

            <!-- Priority -->
            <ng-container matColumnDef="priority">
              <th mat-header-cell *matHeaderCellDef> Priority </th>
              <td mat-cell *matCellDef="let project">
                <span class="badge"
                  [ngClass]="{
                    'bg-danger': project.priority === 'High',
                    'bg-warning': project.priority === 'Medium',
                    'bg-success': project.priority === 'Low'
                  }">
                  {{ project.priority }}
                </span>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </mat-card>
    </div>
  </div>
</div>
